<div class="text-center">
  <div class="row text-center">
    <div class="col-md-offset-2 col-md-8">
      <div class="panel panel-primary">
        <div class="panel-heading">
          <h3 class="panel-title">Profile</h3>
        </div>
        <div class="panel-body">
          <p>{{linkedinProfile.currentJob.title || linkedinProfile.headline}}</p>
          <p>
            <img ng-src="{{linkedinProfile.pictureUrl}}" class="img-circle" />
          </p>
          <br />
          <p class="text-center">
            <b>Name</b> : {{linkedinProfile.firstName}} {{linkedinProfile.lastName}}<br />
           <!--  <b>Industry</b> : {{linkedinProfile.industry}}<br /> -->
            <b>Location</b> : {{linkedinProfile.location.name}}<br>
            <b>Company</b>  : {{linkedinProfile.currentJob.company}}<br />
            

            <div class="form-horizontal">
              <label for='category'><b>Category</b>:</label>
              <select id='category' ng-model="linkedinProfile.category" ng-change="saveUserProfile(linkedinProfile)">
                <option value="referer">Referer</option>
                <option value="looking_for_job">Looking for job</option>
              </select>
            </div>
            <br />
            <div ng-show="linkedinProfile.category === 'referer'">
               <div class="panel panel-default">
                <div class="panel-heading">
                  <h3 class="panel-title">In which departement can you refer?</h3>
                </div>
                <div class="panel-body">
                  <div>
                    <input type="text" ng-model='function'
                      typeahead-on-select="addFunction()" 
                      typeahead="function for function in functions | filter:$viewValue | limitTo:15"/> 
                      <button class="btn btn-primary" ng-click='addFunction()'>Add</button>
                  </div>
                  <br />
                  <div ng-if="linkedinProfile.search.functions && linkedinProfile.search.functions.length > 0">
                    <div class="row">
                      <div class='col-sm-6 col-sm-4' ng-repeat="function in linkedinProfile.search.functions track by $index">
                          <alert type='info' close='removeFunction(function)'>{{function}}</alert>              
                      </div>
                    </div>
                  </div>
                  <div ng-if="!linkedinProfile.search.functions || linkedinProfile.search.functions.length === 0">
                    You haven't set up any filters on the function yet
                  </div>
                </div>
                </div>
              </div>
            </div>  

            <div ng-show="linkedinProfile.category === 'looking_for_job'">
              <div class="panel panel-default">
                <div class="panel-heading">
                  <h3 class="panel-title">In which departement would you like to work?</h3>
                </div>
                <div class="panel-body">
                  <div>
                    <input type="text" ng-model='wants_function'
                      typeahead-on-select="addFunctionWish()" 
                      typeahead="function for function in functions | filter:$viewValue | limitTo:15"/> 
                      <button class="btn btn-primary" ng-click='addFunctionWish()'>Add</button>
                  </div>
                  <br />
                  <div ng-if="linkedinProfile.wants.functions && linkedinProfile.wants.functions.length > 0">
                    <div class="row">
                      <div class='col-sm-6 col-sm-4' ng-repeat="function in linkedinProfile.wants.functions track by $index">
                          <alert type='info' close='removeFunctionWish(function)'>{{function}}</alert>              
                      </div>
                    </div>
                  </div>
                  <div ng-if="!linkedinProfile.wants.functions || linkedinProfile.wants.functions.length === 0">
                    You haven't set up any filters on the function yet
                  </div>
                </div>
              </div>
            </div>

          </p>
        </div>
      </div>
    </div>
  </div>

</div>
