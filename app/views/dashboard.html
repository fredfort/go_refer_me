<div class="row">
  <div class="col-md-offset-2 col-md-8">
    <div class="panel panel-primary">
      <div class="panel-heading">
        <h3 class="panel-title">Profile</h3>
      </div>
      <div class="panel-body">
        <div class="row">
          <div class="col-xs-4 col-md-offset-1 col-md-3 text-center">
            <div>
              <img ng-src="{{linkedinProfile.pictureUrl || '../images/user.svg'}}" class="profile-img" />
            </div> 
          </div>
          <div class="col-xs-8 col-md-7 text-left">
            <div class="row">
              <div class="col-xs-4 text-right">
                <b>Name</b>
              </div>
              <div class="col-xs-8">
               {{linkedinProfile.firstName}} {{linkedinProfile.lastName}}
              </div>
            </div>
            <div class="row margin-top5">
              <div class="col-xs-4 text-right">
                <b>Job</b>
              </div>
              <div class="col-xs-8">
               {{linkedinProfile.currentJob.title || linkedinProfile.headline}}
              </div>
            </div>
            <div class="row margin-top5">
              <div class=" col-xs-4 text-right">
                <b>Location</b>
              </div>
              <div class="col-xs-8">
               {{linkedinProfile.location.name}}
              </div>
            </div>
            <div class="row margin-top5">
              <div class=" col-xs-4 text-right">
                <b>Company</b>
              </div>
              <div class="col-xs-8">
               {{linkedinProfile.currentJob.company}}
              </div>
            </div>
            <div class="row margin-top5">
              <div class="col-xs-4 text-right">
                <label for='category'><b>Category</b></label>
              </div>
              <div class="col-xs-8 ">
                <select id='category' ng-model="linkedinProfile.category" ng-change="saveUserProfile(linkedinProfile)">
                  <option value="referer">{{'referer' | categoryFilter}}</option>
                  <option value="looking_for_job">{{'looking_for_job' | categoryFilter}}</option>
                </select>
              </div>
            </div>
            <div class="row margin-top5 text-center" ng-show='!linkedinProfile.category'>
              <alert type="info" >Please choose a category</alert>
            </div>
          </div>
        </div>
        <br />
        <div>
          <div ng-show="linkedinProfile.category === 'referer'">
            <div class="panel panel-default">
              <div class="panel-heading">
                <h3 class="panel-title">In which departement can you refer?</h3>
              </div>
              <div class="panel-body">
                <div>
                  <input type="text" ng-model='function'
                    typeahead-on-select="addFunction()" 
                    typeahead="function for function in functions | filter:$viewValue | limitTo:15"/> 
                    <button class="btn btn-primary" ng-click='addFunction()'>Add</button>
                </div>
                <br />
                <div ng-if="linkedinProfile.search.functions && linkedinProfile.search.functions.length > 0">
                  <div class="row">
                    <div class='col-sm-6 col-sm-4' ng-repeat="function in linkedinProfile.search.functions track by $index">
                        <alert type='info' close='removeFunction(function)'>{{function}}</alert>              
                    </div>
                  </div>
                </div>
                <div ng-if="!linkedinProfile.search.functions || linkedinProfile.search.functions.length === 0">
                  You haven't set up any filters on the function yet
                </div>
              </div>
            </div>
            <div class="panel panel-default">
              <div class="panel-heading">
                <h3 class="panel-title">For which language do you want to refer?</h3>
              </div>
              <div class="panel-body">
                <div>
                  <input type="text" ng-model='language'
                    typeahead-on-select="addLanguage()" 
                    typeahead="language for language in languages | filter:$viewValue | limitTo:15"/> 
                    <button class="btn btn-primary" ng-click='addLanguage()'>Add</button>
                </div>
                <br />
                <div ng-if="linkedinProfile.search.languages && linkedinProfile.search.languages.length > 0">
                  <div class="row">
                    <div class='col-sm-6 col-sm-4' ng-repeat="language in linkedinProfile.search.languages track by $index">
                        <alert type='info' close='removeLanguage(language)'>{{language}}</alert>              
                    </div>
                  </div>
                </div>
                <div ng-if="!linkedinProfile.search.languages || linkedinProfile.search.languages.length === 0">
                  You haven't set up any filters on the function yet
                </div>
              </div>
            </div>
          </div>
          <div ng-show="linkedinProfile.category === 'looking_for_job'">
            <div class="panel panel-default">
              <div class="panel-heading">
                <h3 class="panel-title">In which departement would you like to work?</h3>
              </div>
              <div class="panel-body">
                <div>
                  <input type="text" ng-model='wants_function'
                    typeahead-on-select="addFunctionWish()" 
                    typeahead="function for function in functions | filter:$viewValue | limitTo:15"/> 
                    <button class="btn btn-primary" ng-click='addFunctionWish()'>Add</button>
                </div>
                <br />
                <div ng-if="linkedinProfile.wants.functions && linkedinProfile.wants.functions.length > 0">
                  <div class="row">
                    <div class='col-sm-6 col-sm-4' ng-repeat="function in linkedinProfile.wants.functions track by $index">
                        <alert type='info' close='removeFunctionWish(function)'>{{function}}</alert>              
                    </div>
                  </div>
                </div>
                <div ng-if="!linkedinProfile.wants.functions || linkedinProfile.wants.functions.length === 0">
                  You haven't set up any filters on the function yet
                </div>
              </div>
            </div>
            <div class="panel panel-default">
              <div class="panel-heading">
                <h3 class="panel-title">For which language you want to be refered?</h3>
              </div>
              <div class="panel-body">
                <div>
                  <input type="text" ng-model='wants_language'
                    typeahead-on-select="addLanguageWish()" 
                    typeahead="language for language in languages | filter:$viewValue | limitTo:15"/> 
                    <button class="btn btn-primary" ng-click='addLanguage()'>Add</button>
                </div>
                <br />
                <div ng-if="linkedinProfile.wants.languages && linkedinProfile.wants.languages.length > 0">
                  <div class="row">
                    <div class='col-sm-6 col-sm-4' ng-repeat="language in linkedinProfile.wants.languages track by $index">
                        <alert type='info' close='removeLanguageWish(language)'>{{language}}</alert>              
                    </div>
                  </div>
                </div>
                <div ng-if="!linkedinProfile.wants.languages || linkedinProfile.wants.languages.length === 0">
                  You haven't set up any filters on the function yet
                </div>
              </div>
            </div>
          </div>
        </div> 
      </div> 
    </div>
  </div>
</div>
