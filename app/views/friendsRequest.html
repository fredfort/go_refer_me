<div class="friends">
	<div class="row">
		<div class="col-md-6 col-md-offset-3">
			<div class="panel panel-primary">
        <div class="panel-heading">
          <h3 class="panel-title">Your connections</h3>
        </div>
        <div class="panel-body no-padding">
     		<div class="input-group margin-bottom10" ng-show='friends.length  > 2'>
		      <input type="text" class="form-control" id="exampleInputAmount" ng-model="personFilter" placeholder="Search">
		     	<div class="input-group-addon"><span class="glyphicon glyphicon-search"></span></div>
				</div>
			  <accordion close-others="true">
			    <accordion-group heading="{{person.firstName}} {{person.lastName}} - {{person.status}}" 
			    								 ng-repeat="person in friends | filter:personFilter | orderBy:'-date_connection'" is-open="$first" class='no-margin'>
				    <div class="row">
				    	<div class="col-md-3 text-center">
				     		<img ng-src="{{person.pictureUrl || '../images/user.svg'}}" class="img img-responsive" />
				     	</div>
				     	<div class="col-md-6">
								<b>Location</b>: {{person.location.name}}<br>
								<b>Company</b>: {{person.currentJob.company}}<br />    
								<b>Profile</b>: <a ng-href="{{person.siteStandardProfileRequest.url}}" target="_blank">Linkedin profile</a><br />
								<b>Email</b>: <a ng-href='mailto:{{person.emailAddress}}'>{{person.emailAddress}}</a><br/>
								<span ng-show='person.date_connection'><b>Friends since</b>:{{person.date_connection | date:'dd/MM/yyyy'}}<br /></span>
								<span ng-show='person.status'><b>Last action</b>:{{person.status}}</span>  
				     	</div>
				     	<div class="col-md-3">
				     		<button class="btn btn-default pull-right" ng-click='unFriend(person)'>Unfriend</button>
				     	</div>
				   	</div>
			    </accordion-group>
			  </accordion>
				<div ng-show='!friends || friends.length === 0' class="well text-center">
					You havn't made any connection yet
				</div>
      	</div>
    	</div>
		</div>
	</div>
	<div class="row">
		<div class="col-md-6">
			<div class="panel panel-primary">
		        <div class="panel-heading">
		          <h3 class="panel-title">Your friend request</h3>
		        </div>
		        <div class="panel-body">
					<div class="row" ng-repeat="person in invitations">
						<div class="col-xs-8">
							<div>
								<b>{{person.firstName}} {{person.lastName}}</b><br />
								<b>Location</b> : {{person.location.name}}<br>
								<b>Company</b>  : {{person.currentJob.company}}<br />    
							</div>
						</div>
						<div class="col-xs-4">
							<div class="text-center">
								<div>
									<button class="btn btn-success" ng-click="acceptInvitation(person)">Accept <span class='glyphicon glyphicon-ok'></span></button>
								</div>
								<div class="margin-top5">
									<button class="btn btn-default" ng-click="denyInvitation(person)">Deny <span class='glyphicon glyphicon-ok'></span></button>
								</div>
							</div>
						</div>
					</div>
					<div ng-show='!invitations || invitations.length ===0' class="well text-center">
						You don't have any friend request
					</div>
				</div>
			</div>
		</div>
				
		<div class="col-md-6">
			<div class="panel panel-primary">
		        <div class="panel-heading">
		          <h3 class="panel-title">Your invitations sent</h3>
		        </div>
		        <div class="panel-body">
					<div class="row" ng-repeat="person in invitationsSent">
						<div class="col-xs-8">
							<div>
								<b>Title</b> : {{person.currentJob.title || person.headline}}<br />
								<b>Indistry</b> : {{person.industry}}<br>
								<b>Category</b> : {{person.category | categoryFilter}}<br>
								<b>Company</b>  : {{person.currentJob.company}}<br />    
							</div>
						</div>
						<div class="col-xs-4">
							<div class="text-center">
								<div>
									<button class="btn btn-default" ng-click="cancelInvitation(person)">Cancel</button>
								</div>
							</div>
						</div>
					</div>
					<div ng-show='!invitationsSent || invitationsSent.length ===0' class="well text-center">
						You don't have any pending invitation
					</div>
				</div>
			</div>
		</div>
	</div>
</div>